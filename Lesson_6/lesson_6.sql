USE vk;

DROP TABLE IF EXISTS likes;
CREATE TABLE likes ( id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
user_id INT UNSIGNED NOT NULL,
target_id INT UNSIGNED NOT NULL,
target_type_id INT UNSIGNED NOT NULL,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP );

-- Таблица типов лайков
DROP TABLE IF EXISTS target_types;
CREATE TABLE target_types ( id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(255) NOT NULL UNIQUE,
created_at DATETIME DEFAULT CURRENT_TIMESTAMP );

INSERT INTO target_types (name) VALUES 
  ('messages'),
  ('users'),
  ('media'),
  ('posts');

-- Заполняем лайки
INSERT INTO likes 
  SELECT 
    id, 
    FLOOR(1 + (RAND() * 100)), 
    FLOOR(1 + (RAND() * 100)),
    FLOOR(1 + (RAND() * 4)),
    CURRENT_TIMESTAMP 
  FROM messages;

-- Проверим
SELECT * FROM likes LIMIT 10;

DROP TABLE IF EXISTS posts;
CREATE TABLE posts (
  id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
  user_id INT UNSIGNED NOT NULL,
  community_id INT UNSIGNED,
  head VARCHAR(255),
  body TEXT NOT NULL,
  media_id INT UNSIGNED,
  is_public BOOLEAN DEFAULT TRUE,
  is_archived BOOLEAN DEFAULT FALSE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

INSERT INTO `posts` VALUES (1,9,4,'That he met in the distance, screaming with passion. She had not gone (We know it to her full size by this time.) \'You\'re nothing but a pack of cards!\' At this moment the door between us. For.','Qui debitis voluptas distinctio quos. Id corrupti dolorem dolor voluptatum et temporibus facere. Facere repellat accusamus vel et nihil.',4,0,0,'2006-01-08 16:05:40','1978-05-17 10:18:48'),(2,4,5,'M--\' \'Why with an M--\' \'Why with an M?\' said Alice. \'Well, then,\' the Gryphon interrupted in a very fine day!\' said a whiting before.\' \'I can hardly breathe.\' \'I can\'t help that,\' said the White.','Eum accusamus optio accusamus modi ut pariatur reprehenderit. Aspernatur corporis et facere. Sequi odit aut temporibus eum molestiae dolor sit pariatur. Pariatur voluptas voluptas dignissimos amet.',5,1,1,'1981-07-20 02:30:11','2005-07-30 16:08:10'),(3,1,6,'Mystery,\' the Mock Turtle yet?\' \'No,\' said Alice. \'Of course you know the song, perhaps?\' \'I\'ve heard something like this:-- \'Fury said to Alice. \'Nothing,\' said Alice. \'Exactly so,\' said Alice..','Quaerat et est ducimus voluptatem ullam ea. Porro incidunt non voluptates harum ad provident et libero. Accusamus quisquam voluptas excepturi quis. Aut facilis sint et doloribus itaque necessitatibus.',9,1,0,'2000-09-21 00:27:53','1984-12-14 09:30:52'),(4,5,4,'I\'m sure she\'s the best of educations--in fact, we went to work throwing everything within her reach at the mouth with strings: into this they slipped the guinea-pig, head first, and then, if I.','Libero ipsa est hic harum aut voluptate. Beatae modi ut molestiae esse. Dolore aut et eum mollitia.',4,1,0,'1976-06-25 07:24:06','1980-04-03 04:57:55'),(5,6,1,'Hatter. He had been looking at the flowers and those cool fountains, but she got used to queer things happening. While she was getting quite crowded with the day and night! You see the Mock Turtle.','Dolorem aut voluptatem qui quia dolores reprehenderit. Ad est ab voluptatem dolorum magnam. Saepe amet expedita in explicabo. Nam fugit quas labore qui ipsam porro ipsa ea.',6,1,1,'1986-07-28 16:14:11','2002-12-28 08:44:30'),(6,7,6,'PROVES his guilt,\' said the Gryphon. \'--you advance twice--\' \'Each with a knife, it usually bleeds; and she soon found herself lying on the trumpet, and called out, \'First witness!\' The first thing.','Sunt explicabo illum quas quo officiis. Possimus nobis autem sed in ipsam. Ab qui voluptas molestiae non aut itaque. Consequatur exercitationem qui dolore eos veritatis similique qui sed.',1,0,0,'1988-03-08 09:34:31','1991-01-18 07:22:14'),(7,8,4,'Beautiful, beauti--FUL SOUP!\' \'Chorus again!\' cried the Gryphon, \'you first form into a doze; but, on being pinched by the prisoner to--to somebody.\' \'It must have imitated somebody else\'s hand,\'.','Dolores adipisci qui ab omnis illum culpa vitae. Incidunt quibusdam maiores quas voluptatem quaerat quos nobis at. Aperiam occaecati quis quia.',5,1,1,'2016-04-01 07:41:05','2019-06-26 04:07:04'),(8,7,6,'Mock Turtle repeated thoughtfully. \'I should like to be no chance of her favourite word \'moral,\' and the whole pack of cards: the Knave of Hearts, and I don\'t like it, yer honour, at all, at all!\'.','Aspernatur suscipit reiciendis at. Est voluptatem amet asperiores saepe et. Quo ut sunt doloremque tenetur culpa adipisci voluptate. Non sit aspernatur iste voluptatum. Placeat vitae vel et a distinctio.',2,0,1,'1980-05-30 18:38:57','1978-10-26 19:25:26'),(9,5,8,'Caterpillar contemptuously. \'Who are YOU?\' Which brought them back again to the jury. \'Not yet, not yet!\' the Rabbit actually TOOK A WATCH OUT OF ITS WAISTCOAT-POCKET, and looked very anxiously into.','Quod eum aut rerum rem aliquid voluptatum earum. Accusamus at sint quia eos eos. Voluptatem at sunt sunt in. Ut quisquam dicta distinctio fuga sed.',5,1,1,'1996-12-19 05:21:00','2007-04-14 06:37:22'),(10,1,6,'There was not much surprised at this, that she did not like the right way of expressing yourself.\' The baby grunted again, and she grew no larger: still it was too small, but at any rate it would.','Et praesentium odit excepturi porro. Odit vero quia impedit ut pariatur. Ducimus debitis nihil veritatis similique dolorem eum consectetur sed.',2,0,1,'2004-04-13 05:23:26','2001-09-01 01:26:23'),(11,4,9,'I hadn\'t drunk quite so much!\' Alas! it was addressed to the other arm curled round her at the other, trying every door, she found herself at last in the way down one side and then unrolled the.','Aliquid cumque incidunt animi quae ut facilis totam. Labore eum ab et voluptatem accusantium voluptatum quis. Dolorum veritatis sed numquam maxime et. Sint dolorum deserunt impedit ad voluptas porro impedit maiores.',2,0,1,'1977-01-20 06:50:59','2003-09-01 13:55:11'),(12,9,6,'Mock Turtle sighed deeply, and began, in rather a handsome pig, I think.\' And she began again: \'Ou est ma chatte?\' which was sitting between them, fast asleep, and the Queen\'s shrill cries to the.','Aliquam officia error facilis omnis nesciunt quia sed. Et est aspernatur consequatur ex ipsum provident. Odio neque ut omnis nam et est voluptas natus.',9,1,0,'1994-11-27 22:28:54','1990-01-30 10:43:23'),(13,7,5,'King, and the Panther were sharing a pie--\' [later editions continued as follows The Panther took pie-crust, and gravy, and meat, While the Owl and the bright eager eyes were looking over their.','Itaque voluptatem aut omnis accusantium ea quis in. Provident non enim cum ipsum. Neque consectetur hic deleniti aperiam perspiciatis.',2,1,0,'1999-05-20 19:14:49','2007-04-06 22:39:44'),(14,9,5,'Yet you turned a back-somersault in at the top of its mouth, and its great eyes half shut. This seemed to listen, the whole court was a real Turtle.\' These words were followed by a very little!.','Sint debitis necessitatibus minus ullam officiis adipisci quia. Dolorem voluptatem expedita et sequi vero. Porro id vel soluta quo quo velit. Omnis non quibusdam ea laborum dolores dolores.',9,0,0,'2007-09-23 22:46:11','2015-03-06 08:13:51'),(15,6,3,'Gryphon, \'you first form into a doze; but, on being pinched by the pope, was soon left alone. \'I wish the creatures wouldn\'t be so kind,\' Alice replied, so eagerly that the hedgehog a blow with its.','Voluptas et veniam praesentium voluptas dolorem. Porro non non cumque cupiditate. Quibusdam accusantium explicabo et minus voluptatibus rem iusto. Similique aut perspiciatis cupiditate laborum.',7,0,0,'2011-10-17 23:37:09','1971-07-23 23:01:52'),(16,8,9,'Hatter. He had been of late much accustomed to usurpation and conquest. Edwin and Morcar, the earls of Mercia and Northumbria, declared for him: and even Stigand, the patriotic archbishop of.','Necessitatibus commodi nostrum itaque reiciendis. Dolore id qui voluptate delectus. Quae mollitia eveniet assumenda expedita architecto maxime praesentium.',9,0,1,'1975-11-24 11:43:53','1973-01-04 21:09:42'),(17,1,1,'YOUR shoes done with?\' said the Cat, \'or you wouldn\'t squeeze so.\' said the Hatter was the cat.) \'I hope they\'ll remember her saucer of milk at tea-time. Dinah my dear! I shall remember it in her.','Distinctio quas eius illo et. Dolorum eos suscipit repellendus id voluptatum. Qui incidunt quos et.',2,0,0,'2003-04-10 16:29:57','1989-05-22 11:54:41'),(18,8,9,'Oh, how I wish I could shut up like a writing-desk?\' \'Come, we shall have to beat them off, and she felt that it might end, you know,\' the Mock Turtle, \'they--you\'ve seen them, of course?\' \'Yes,\'.','Quia voluptatem eum placeat error ab. Aut vel aspernatur autem cumque omnis cum eos velit. Alias quam eum debitis.',2,0,1,'1997-02-25 05:16:44','1988-01-13 18:38:35'),(19,4,6,'Alice was very nearly in the air. She did it so yet,\' said the Eaglet. \'I don\'t even know what \"it\" means well enough, when I find a pleasure in all their simple sorrows, and find a number of.','Aut nobis odio sapiente. Eos odit sunt dolore autem sint porro. Dolorem minima mollitia ipsa accusamus et. Iure numquam dolores id.',8,0,0,'1989-09-19 12:57:31','1981-11-27 23:45:21'),(20,5,5,'Alice. \'Why?\' \'IT DOES THE BOOTS AND SHOES.\' the Gryphon went on in these words: \'Yes, we went to school in the morning, just time to begin with; and being so many out-of-the-way things had happened.','Et corrupti neque amet. Porro suscipit voluptas sed repellat est.',4,1,0,'2000-02-02 23:05:36','2013-09-29 21:23:57'),(21,2,5,'Hatter. \'He won\'t stand beating. Now, if you wouldn\'t squeeze so.\' said the Queen, turning purple. \'I won\'t!\' said Alice. \'Then you shouldn\'t talk,\' said the King: \'leave out that she remained the.','Nam et adipisci qui dolorem unde dolorem molestiae possimus. Quo eum est consectetur ea. In eligendi rem vel. Beatae in dignissimos dignissimos est ut commodi non. Autem et consequatur dolore iusto.',7,0,0,'2002-01-04 04:13:39','2004-09-17 05:45:14'),(22,2,6,'She soon got it out into the sea, though you mayn\'t believe it--\' \'I never thought about it,\' said Alice. \'Of course not,\' said Alice to herself, \'I don\'t even know what \"it\" means well enough, when.','Ut velit doloremque expedita mollitia velit ipsa quas est. Voluptatum eos ex consequatur quibusdam quae aperiam sit. Itaque dolorem sed quidem autem vero. Et aut numquam et quos blanditiis molestiae qui. Et labore dolorem quisquam eum expedita.',4,1,1,'2019-11-01 20:32:13','1974-10-25 18:33:39'),(23,1,5,'Alice, \'to pretend to be a great letter, nearly as large as the March Hare. \'It was much pleasanter at home,\' thought poor Alice, \'when one wasn\'t always growing larger and smaller, and being.','Voluptas dolorem dolorum quidem qui ut. Veritatis incidunt blanditiis sequi voluptas suscipit nisi ea. Omnis dolorum et odio.',1,0,1,'1974-08-13 12:05:55','1997-10-06 16:21:31'),(24,4,4,'I\'ll get into that lovely garden. First, however, she waited patiently. \'Once,\' said the Duchess; \'and that\'s the queerest thing about it.\' (The jury all brightened up again.) \'Please your Majesty,\'.','A earum unde quos adipisci autem. Enim id corrupti error fuga temporibus est et. Nihil voluptas qui enim voluptatibus magnam eum.',8,0,0,'2019-07-26 12:29:04','2008-01-21 17:54:37'),(25,8,8,'Gryphon remarked: \'because they lessen from day to such stuff? Be off, or I\'ll kick you down stairs!\' \'That is not said right,\' said the Duchess: \'flamingoes and mustard both bite. And the Gryphon.','Dignissimos voluptatem non et temporibus fuga. Culpa debitis tempora et sapiente quo nemo. Nihil maiores quidem deserunt expedita a.',6,1,1,'1988-09-01 05:14:03','2014-05-24 13:17:05'),(26,4,1,'However, I\'ve got to grow to my right size: the next verse,\' the Gryphon went on for some minutes. Alice thought this a very fine day!\' said a whiting to a lobster--\' (Alice began to feel very queer.','Eaque corrupti rem ex voluptatum sit voluptatem. Soluta qui cupiditate odio et sequi perferendis voluptate. Itaque est excepturi quia beatae mollitia voluptate vel.',5,0,1,'1992-03-23 16:58:54','2020-10-14 03:09:15'),(27,3,6,'As soon as she had made the whole cause, and condemn you to set them free, Exactly as we were. My notion was that it might belong to one of the trial.\' \'Stupid things!\' Alice thought she might find.','Deserunt dolorem deleniti nihil et ea. Facere nulla ut ab commodi iusto quia. Explicabo ut placeat quos veniam autem fuga.',3,1,0,'1981-12-03 21:47:46','2001-02-16 06:35:02'),(28,2,8,'Gryphon, lying fast asleep in the distance. \'Come on!\' cried the Mouse, frowning, but very glad to find her in the distance, and she heard a little scream of laughter. \'Oh, hush!\' the Rabbit came up.','Aut fuga voluptatibus sit et culpa minus id. Maiores enim necessitatibus sint molestiae iure voluptatem ipsum. Ducimus dolor et rerum ullam dolores dolor dolor veniam.',2,0,0,'1990-08-10 08:13:28','1990-09-24 12:20:04'),(29,7,2,'But her sister on the bank, with her friend. When she got up, and there stood the Queen of Hearts were seated on their slates, when the White Rabbit read out, at the stick, running a very respectful.','Minima odio laborum maiores molestiae aut veritatis. Nobis tempora voluptatem quisquam ut vitae. Animi nulla dolor tenetur repellendus tempore ipsam.',9,1,0,'2000-08-22 16:44:10','2010-09-07 18:34:35'),(30,4,1,'Hatter. \'It isn\'t directed at all,\' said the Mock Turtle drew a long way back, and see that queer little toss of her little sister\'s dream. The long grass rustled at her feet in the world go.','Aut impedit ea magni sed. Culpa consectetur deleniti et a. Ut perspiciatis unde dolorem fuga. A dolores provident dolorem assumenda optio sequi omnis.',1,0,1,'1972-12-01 08:12:53','1996-08-22 21:30:53'),(31,5,2,'Pigeon had finished. \'As if I would talk on such a nice soft thing to get into that lovely garden. First, however, she went down on one of the well, and noticed that they would call after her: the.','Nam a commodi vel praesentium nobis pariatur. Quia nobis qui vitae molestiae. Nisi odit rerum et. Perferendis dignissimos in laboriosam expedita.',4,1,1,'1985-12-25 14:46:35','1981-11-22 00:45:22'),(32,5,7,'Alice could see, as she could, \'If you didn\'t sign it,\' said Alice, a good thing!\' she said to a snail. \"There\'s a porpoise close behind us, and he\'s treading on my tail. See how eagerly the.','Minima sapiente tempore reiciendis qui unde est. Veritatis quos eum aut esse et cumque optio fugit. Dolor animi dicta labore ut. Dolorem molestiae cum repudiandae voluptatem necessitatibus autem saepe. Molestiae consequatur voluptas at illo perspiciatis laudantium.',2,1,0,'1994-09-22 13:38:10','1990-04-01 02:43:18'),(33,4,2,'SOMETHING interesting is sure to happen,\' she said this, she noticed a curious dream, dear, certainly: but now run in to your places!\' shouted the Queen left off, quite out of the soldiers did..','Minima et consectetur rerum vero consequatur molestiae sint. Nihil voluptates dolores et itaque. Neque iste voluptatem placeat natus maxime. Voluptatem quam voluptatem quo error necessitatibus modi animi.',8,0,1,'2002-06-11 02:35:33','2011-02-08 18:05:04'),(34,4,5,'Alice called out as loud as she spoke--fancy CURTSEYING as you\'re falling through the air! Do you think you\'re changed, do you?\' \'I\'m afraid I\'ve offended it again!\' For the Mouse replied rather.','Aut minima ab consectetur quos ex fugit. Porro voluptates praesentium placeat eius vitae qui illum sint. Esse quaerat quaerat dolor repudiandae alias error.',5,0,0,'2010-03-03 01:32:55','1993-08-03 23:14:04'),(35,7,8,'It did so indeed, and much sooner than she had never been in a very short time the Mouse was speaking, and this he handed over to herself, \'because of his pocket, and was going to turn into a large.','Temporibus minus quisquam architecto dicta deleniti. Unde dolorem ipsam porro rerum. Eaque facere consequatur consequatur quas repellat est quia.',4,0,0,'1977-03-20 06:03:05','1981-04-27 01:05:37'),(36,9,3,'Very soon the Rabbit noticed Alice, as she left her, leaning her head to keep back the wandering hair that WOULD always get into her face, with such a wretched height to be.\' \'It is a long breath,.','Exercitationem voluptas facilis doloremque exercitationem. Et eligendi libero totam ut dolorem quia. Autem maiores dolores pariatur voluptatem aspernatur accusamus eum. Eos ut est eos quas sed veritatis.',6,1,1,'2001-04-23 08:17:09','1988-05-25 15:47:55'),(37,8,9,'I find a number of bathing machines in the other. In the very middle of one! There ought to eat or drink under the door; so either way I\'ll get into her face, with such sudden violence that Alice.','Asperiores laudantium voluptas minus id. Itaque autem delectus fugit in perferendis eum. Officia aspernatur corrupti animi.',4,0,0,'2001-07-30 23:33:10','1996-12-20 12:32:02'),(38,1,3,'There was nothing on it except a little more conversation with her head!\' the Queen added to one of these cakes,\' she thought, \'it\'s sure to kill it in a trembling voice:-- \'I passed by his face.','Eum ut quo ut ex. Est enim quos et dolor suscipit commodi sit. Ut excepturi repellat a est tempore sunt numquam vel. Dolores rerum non tempore qui.',7,1,0,'1985-02-21 22:08:32','1981-01-03 09:58:56'),(39,3,5,'Dinah, and saying to herself how this same little sister of hers would, in the schoolroom, and though this was her turn or not. So she went on again:-- \'You may not have lived much under the sea,\'.','Quia ratione quis ut earum repudiandae quia. Expedita quia dolorem molestiae consequatur ratione. Eos labore ut a voluptatem ipsum dignissimos.',5,0,1,'2011-02-04 19:51:20','1982-02-23 14:58:59'),(40,3,3,'SOMETHING interesting is sure to make out which were the two sides of it; and the roof of the March Hare took the hookah out of it, and talking over its head. \'Very uncomfortable for the hot day.','Accusamus ut doloribus ut sequi nostrum distinctio. Praesentium est quia quos maxime necessitatibus. Excepturi est voluptate amet sunt. Debitis est consequatur voluptates sed aliquid. Ut aut maxime quia minus adipisci sint numquam.',7,0,0,'1982-08-29 18:09:37','1972-11-11 10:22:05'),(41,9,3,'Alice indignantly. \'Let me alone!\' \'Serpent, I say again!\' repeated the Pigeon, but in a sulky tone; \'Seven jogged my elbow.\' On which Seven looked up and straightening itself out again, and went.','Sed et sequi non dicta necessitatibus. Quia laudantium sint rerum animi doloribus. Est voluptas et libero. Molestias ratione officia minus impedit totam eum officia.',3,1,1,'2019-06-03 01:02:18','1987-08-11 06:38:02'),(42,9,2,'I suppose, by being drowned in my time, but never ONE with such a nice little dog near our house I should think very likely it can talk: at any rate,\' said Alice: \'I don\'t see any wine,\' she.','Qui odio et fugiat perferendis voluptatem est alias. Nihil ratione libero pariatur.',2,1,0,'1994-09-27 05:07:06','1979-05-01 17:20:28'),(43,8,6,'The twelve jurors were writing down \'stupid things!\' on their slates, \'SHE doesn\'t believe there\'s an atom of meaning in it, and found quite a long and a scroll of parchment in the distance, sitting.','Dolorem enim omnis eveniet architecto. Soluta accusamus et et dolorem. Dolor eum ipsum itaque officiis quis repudiandae aut suscipit. Asperiores porro eligendi ut suscipit quidem nemo.',3,0,0,'1981-10-02 10:15:18','2015-07-24 11:30:50'),(44,3,8,'THIS size: why, I should like to show you! A little bright-eyed terrier, you know, this sort in her pocket, and was beating her violently with its head, it WOULD twist itself round and get ready for.','Labore praesentium sit ut sint explicabo. Autem harum ut provident dolore. Non autem vel nisi fuga.',8,1,0,'1971-01-28 19:10:19','1980-03-09 11:29:28'),(45,5,9,'I get it home?\' when it had VERY long claws and a Long Tale They were indeed a queer-looking party that assembled on the glass table as before, \'and things are \"much of a well?\' \'Take some more of.','Quod dolor excepturi praesentium ut. Aut quo rem sequi est consequatur. Qui molestias dolores voluptas et est doloremque animi minus.',8,1,1,'1993-01-20 11:16:52','1995-08-15 01:02:17'),(46,8,9,'I like\"!\' \'You might just as I\'d taken the highest tree in front of them, and just as well. The twelve jurors were all in bed!\' On various pretexts they all crowded together at one and then dipped.','Esse dolores optio accusamus natus odit cumque. Alias illum aut esse debitis quo magni perspiciatis. Ea consequuntur error aperiam minus quos sint.',8,1,0,'2020-11-17 19:39:02','2010-07-02 23:21:14'),(47,8,9,'Alice was very fond of beheading people here; the great wonder is, that there\'s any one left alive!\' She was moving them about as curious as it was indeed: she was talking. \'How CAN I have dropped.','Nesciunt blanditiis corrupti reprehenderit officiis. Omnis ea consectetur sed voluptatem quas maiores expedita. Non et corrupti necessitatibus. Ut non amet eveniet accusantium sit ad.',1,1,0,'1986-08-14 00:37:04','2009-05-26 21:08:20'),(48,4,6,'I can kick a little!\' She drew her foot slipped, and in a melancholy tone. \'Nobody seems to suit them!\' \'I haven\'t the least notice of her head pressing against the door, and knocked. \'There\'s no.','Recusandae rerum sit qui doloribus. Sequi nihil molestiae voluptatem velit consequatur ratione. Aut labore officia minus nihil quisquam omnis non. Ut aut et quaerat totam.',9,1,0,'1975-04-20 01:16:37','1995-09-05 03:02:54'),(49,1,9,'Gryphon hastily. \'Go on with the Queen,\' and she swam nearer to make it stop. \'Well, I\'d hardly finished the guinea-pigs!\' thought Alice. \'I\'m a--I\'m a--\' \'Well! WHAT are you?\' And then a row of.','Sequi consequatur earum molestiae laudantium suscipit ut. Consectetur non ut eveniet quia. Voluptatem architecto officiis id voluptas adipisci quos.',7,0,0,'2015-04-28 12:54:00','2014-10-16 09:22:54'),(50,5,4,'These were the cook, to see it quite plainly through the air! Do you think you might knock, and I never knew whether it was getting very sleepy; \'and they all quarrel so dreadfully one can\'t hear.','Provident ullam fugit possimus iure dolore sed. Delectus illo est quos. Rerum et consectetur modi perspiciatis.',9,1,0,'2015-05-01 20:49:29','1973-04-28 23:46:00'),(51,2,1,'Alice heard it before,\' said Alice,) and round the refreshments!\' But there seemed to rise like a telescope.\' And so she went on eagerly: \'There is such a simple question,\' added the Queen. \'It.','Ea necessitatibus laudantium sapiente est consequuntur. Sit quia veniam quam qui iusto autem odio. Impedit corporis corporis voluptas voluptates officia.',4,1,0,'1982-10-23 19:01:40','1976-05-25 10:04:26'),(52,1,9,'I like\"!\' \'You might just as well say,\' added the Hatter, and here the Mock Turtle drew a long sleep you\'ve had!\' \'Oh, I\'ve had such a thing. After a while, finding that nothing more to come, so she.','In sed corporis omnis praesentium rerum quod sed. Voluptates molestiae ut aspernatur praesentium et modi maxime quod. Est ut voluptatibus quae iusto animi et qui. Accusamus pariatur consectetur dolorem asperiores laborum quia temporibus.',1,0,1,'1996-12-04 07:59:23','1980-12-02 07:18:37'),(53,9,7,'It\'s the most important piece of bread-and-butter in the wood, \'is to grow to my right size: the next question is, what did the archbishop find?\' The Mouse did not wish to offend the Dormouse went.','Magni aut corrupti modi dolorem odit nobis. Est sint nobis animi laboriosam inventore. Id molestias quia a non dolores natus et doloremque. Molestiae cumque velit aliquam. Error dolorem dolorem ut dolor eum autem omnis.',5,0,0,'1993-01-05 10:29:58','1995-07-03 17:30:36'),(54,5,5,'Alice loudly. \'The idea of the Queen\'s voice in the act of crawling away: besides all this, there was Mystery,\' the Mock Turtle yawned and shut his note-book hastily. \'Consider your verdict,\' he.','Tempora cumque sunt perspiciatis porro neque. Maiores tempore suscipit quasi qui. Asperiores alias at in consectetur provident quia. Illum modi corporis molestiae laboriosam at architecto molestiae.',6,0,1,'1973-04-01 19:09:39','2011-12-30 03:07:12'),(55,9,2,'Twinkle, twinkle--\"\' Here the Dormouse began in a natural way again. \'I should like to hear it say, as it happens; and if it makes rather a handsome pig, I think.\' And she began again. \'I wonder.','Eos fuga aut necessitatibus officiis velit atque tempora. Ullam ut aut officia consequuntur eius cumque error. Fuga ut voluptas dicta. Aut saepe aut dolore alias.',8,0,1,'2010-05-11 04:37:42','2002-09-16 04:26:35'),(56,8,6,'I\'m not the same, shedding gallons of tears, but said nothing. \'When we were little,\' the Mock Turtle Soup is made from,\' said the Gryphon, and the fall NEVER come to the heads of the thing at all..','Recusandae atque distinctio ullam omnis rerum nobis rerum. Cum voluptatibus non consequuntur qui. Non aperiam voluptas facilis iste ut sed iure. Quam quo omnis asperiores necessitatibus accusantium non sed.',5,0,1,'1972-11-15 15:43:36','1974-06-13 22:32:35'),(57,8,8,'Rabbit came near her, she began, in a low, timid voice, \'If you didn\'t like cats.\' \'Not like cats!\' cried the Gryphon. \'I mean, what makes them so often, you know.\' Alice had begun to think about.','Voluptatem magnam est quae consequatur omnis qui vel. Quasi voluptatum maxime hic sint aut ut et. Tempora eos facere omnis sapiente est.',6,1,0,'2011-12-03 22:47:45','2010-08-15 21:12:59'),(58,2,7,'I am now? That\'ll be a walrus or hippopotamus, but then she noticed that the meeting adjourn, for the next witness. It quite makes my forehead ache!\' Alice watched the White Rabbit returning,.','Quod est odit molestiae. Unde quidem officia culpa quis aut sed. Eaque non incidunt exercitationem sunt modi. Doloribus amet occaecati cupiditate necessitatibus et minus reprehenderit et.',4,0,1,'1997-05-11 11:07:00','2004-10-31 06:47:24'),(59,4,4,'I to do?\' said Alice. \'Then you should say \"With what porpoise?\"\' \'Don\'t you mean by that?\' said the Caterpillar; and it sat for a minute or two she stood still where she was, and waited. When the.','Molestiae et ipsum eos exercitationem et vel voluptatum sunt. Voluptas cupiditate illo soluta aperiam delectus. Voluptates nobis facere dolores ea illo.',8,1,0,'2008-06-08 21:26:48','1997-02-06 20:13:20'),(60,6,1,'Alice. \'Come on, then,\' said the King. The White Rabbit blew three blasts on the English coast you find a thing,\' said the Hatter: \'let\'s all move one place on.\' He moved on as he came, \'Oh! the.','Nesciunt sapiente unde voluptatibus ipsa temporibus. Eligendi sint vel distinctio nemo autem ipsa. Facilis voluptatum dolores quia mollitia qui debitis.',9,0,1,'2014-12-01 19:40:49','1985-05-17 05:12:40'),(61,9,3,'Alice could only hear whispers now and then, and holding it to be ashamed of yourself for asking such a fall as this, I shall have some fun now!\' thought Alice. One of the trees behind him. \'--or.','Dolorum ea voluptatem occaecati delectus sunt. Et laudantium aspernatur cupiditate sit. Unde esse cupiditate reprehenderit et optio dignissimos. Libero quod minima molestias odit facilis.',9,1,1,'2014-03-22 05:54:43','1988-08-14 06:27:58'),(62,4,5,'The chief difficulty Alice found at first was in livery: otherwise, judging by his garden, and marked, with one eye, How the Owl had the best thing to get out again. That\'s all.\' \'Thank you,\' said.','Sequi accusantium totam totam quis. Corporis vero vero dolores quia molestias asperiores. Aut voluptatem dolor dolore deserunt. Numquam dolorum velit recusandae sint et.',3,1,1,'2009-10-24 16:08:57','1976-10-03 19:44:12'),(63,3,8,'The Mouse gave a sudden leap out of this rope--Will the roof off.\' After a minute or two, she made some tarts, All on a little bit, and said \'No, never\') \'--so you can have no answers.\' \'If you.','Libero vel culpa voluptatem laudantium. Quas unde consequuntur quibusdam repudiandae ut. Corrupti qui consequatur harum provident illo enim laboriosam dolores. Ipsam quam asperiores porro illo voluptatem quaerat.',3,0,0,'2007-01-23 07:43:48','1976-03-01 03:52:47'),(64,8,2,'Alice, feeling very glad she had succeeded in getting its body tucked away, comfortably enough, under her arm, with its tongue hanging out of the crowd below, and there stood the Queen jumped up on.','Aut a quis provident libero omnis ex alias. Veniam et odio rerum est officiis sequi libero velit.',9,1,1,'1998-12-26 02:54:40','2003-10-23 02:59:59'),(65,1,9,'Five. \'I heard every word you fellows were saying.\' \'Tell us a story.\' \'I\'m afraid I\'ve offended it again!\' For the Mouse was bristling all over, and she had gone through that day. \'No, no!\' said.','Nisi voluptatem reprehenderit accusamus quam autem optio nostrum. Qui occaecati veritatis velit aut repellat distinctio totam. Nostrum alias id voluptas debitis minus dolorem id vero.',6,0,1,'1975-05-06 15:21:54','2010-07-16 01:51:50'),(66,1,4,'Rabbit\'s voice along--\'Catch him, you by the White Rabbit, trotting slowly back to the puppy; whereupon the puppy jumped into the garden. Then she went round the court with a trumpet in one hand and.','Odit tempore quo est vel. Id totam alias ut accusamus quo. Necessitatibus consequatur illum doloremque voluptas aspernatur iste voluptatem.',3,1,0,'1984-06-19 11:29:00','1975-09-10 17:26:55'),(67,6,8,'Hatter. \'You might just as well. The twelve jurors were all in bed!\' On various pretexts they all cheered. Alice thought decidedly uncivil. \'But perhaps he can\'t help that,\' said Alice. \'Did you say.','A pariatur aut et qui et. Quidem in est ex sunt. Aut ut in et iste a inventore at.',1,1,1,'1982-04-09 19:22:29','1971-05-24 12:12:31'),(68,3,2,'The Dormouse shook its head impatiently, and said, \'It was the King; \'and don\'t look at them--\'I wish they\'d get the trial done,\' she thought, and looked anxiously round, to make it stop. \'Well, I\'d.','Ratione at earum est aut corrupti et. Voluptas numquam neque quo aut architecto. Amet id voluptatem et a nam quidem. Quo non non aut natus magni.',8,0,0,'1988-08-03 13:10:17','1980-01-27 09:00:55'),(69,3,5,'Alice had learnt several things of this sort of people live about here?\' \'In THAT direction,\' waving the other paw, \'lives a March Hare. Alice sighed wearily. \'I think you could keep it to be.','Est ut sunt tenetur architecto consequuntur et. Deserunt sint inventore accusamus qui facere. Reprehenderit expedita ipsum deleniti impedit. Ea et fugit magnam enim eligendi. Culpa praesentium itaque aspernatur aut et consequatur optio.',1,1,1,'2004-10-29 16:47:43','1985-08-06 06:17:29'),(70,2,8,'I hadn\'t quite finished my tea when I breathe\"!\' \'It IS the fun?\' said Alice. \'Anything you like,\' said the Gryphon: and it set to work throwing everything within her reach at the top of his pocket,.','Quidem eligendi earum rerum voluptate nostrum. Dolores fugit adipisci nulla nisi non odit enim. Inventore provident aspernatur ipsum explicabo dolores quo dicta. Non natus minima quisquam necessitatibus libero quia voluptates cumque.',3,0,0,'2015-12-02 12:41:18','2006-03-30 00:11:22'),(71,2,6,'I!\' said the Caterpillar. \'Well, perhaps not,\' said Alice to herself. \'Shy, they seem to see the Hatter grumbled: \'you shouldn\'t have put it to his son, \'I feared it might not escape again, and made.','Ea ut voluptatem molestias. Aut quasi itaque deleniti dolorem veniam accusantium. Dignissimos a quod qui ipsum nobis.',2,1,1,'1988-07-20 06:59:58','1979-05-07 19:08:58'),(72,1,6,'Alice said to the other: he came trotting along in a trembling voice:-- \'I passed by his garden, and marked, with one foot. \'Get up!\' said the King, the Queen, who were all shaped like the look of.','Laboriosam numquam illo quidem in. Aut quae sint earum quia eum. Ullam excepturi dolorem aut atque. Sed excepturi repudiandae doloremque reprehenderit.',2,0,0,'1970-12-23 09:16:25','2015-03-27 17:33:59'),(73,7,2,'Alice, in a dreamy sort of idea that they could not remember ever having heard of \"Uglification,\"\' Alice ventured to remark. \'Tut, tut, child!\' said the Queen. An invitation for the accident of the.','Et deleniti quia molestiae. Neque sunt quo atque esse quia accusamus eum voluptatem. Vero et est iste quae. Et aut recusandae harum odio sit.',7,1,1,'2015-01-18 17:36:57','1976-07-27 20:02:33'),(74,1,2,'But she went down on their slates, and then added them up, and reduced the answer to it?\' said the one who got any advantage from the sky! Ugh, Serpent!\' \'But I\'m not looking for it, you know--\'.','Voluptatibus aliquid sed sapiente atque vero nihil quia. Rerum quia vel nobis quia. Dicta reiciendis nobis voluptates.',7,1,1,'1985-01-10 03:12:38','2002-05-23 02:27:01'),(75,5,4,'The Gryphon lifted up both its paws in surprise. \'What! Never heard of such a very melancholy voice. \'Repeat, \"YOU ARE OLD, FATHER WILLIAM,\' to the Mock Turtle. So she was terribly frightened all.','Voluptas odio facilis aut dolorem quasi voluptas. Voluptatem omnis quisquam nobis fugit et. Minus nulla ad sit. Labore id animi tempore fuga laborum.',1,1,1,'2014-03-14 00:15:26','1974-04-21 23:33:27'),(76,4,9,'Gryphon. \'--you advance twice--\' \'Each with a trumpet in one hand and a fall, and a sad tale!\' said the Hatter. \'I told you that.\' \'If I\'d been the right height to rest herself, and shouted out,.','Et adipisci nemo quam. Sed ipsa debitis nobis reiciendis consequatur. Tempora voluptas necessitatibus omnis non sapiente voluptatem corrupti.',8,1,0,'2000-11-12 02:40:44','2018-10-30 17:17:16'),(77,3,4,'The Lobster Quadrille is!\' \'No, indeed,\' said Alice. \'Nothing WHATEVER?\' persisted the King. \'Nothing whatever,\' said Alice. \'Well, then,\' the Cat said, waving its tail when it\'s angry, and wags its.','Aut quasi minima voluptas ut voluptatem voluptatem enim. Dolore dolorum quasi ipsam quia. Id ut itaque adipisci libero perspiciatis quia. Odit maxime nisi sit architecto.',2,0,0,'1987-09-29 03:19:21','1997-10-15 17:13:27'),(78,4,6,'Alice. \'I\'ve read that in the distance, sitting sad and lonely on a branch of a procession,\' thought she, \'what would become of me? They\'re dreadfully fond of beheading people here; the great.','Et qui ut quia occaecati aperiam. Optio velit sapiente officiis expedita numquam dignissimos iste ea. Non consequatur eveniet magni alias dolorum minus. Modi ex cum aliquid mollitia.',8,0,0,'1996-02-18 00:57:50','2016-05-15 05:40:23'),(79,4,1,'Alice; \'I might as well go in ringlets at all; however, she went slowly after it: \'I never thought about it,\' said Alice to herself, \'if one only knew the right thing to nurse--and she\'s such a nice.','Aspernatur accusantium molestiae recusandae. Tempore voluptatem eligendi accusamus temporibus tenetur provident. Eos deserunt quas magnam. Dolorem autem cum quae doloribus sit consequuntur iste.',4,1,0,'2016-02-29 13:27:56','2000-05-04 02:13:37'),(80,2,2,'Alice (she was rather doubtful whether she could get to the part about her other little children, and make out exactly what they said. The executioner\'s argument was, that she let the Dormouse.','Placeat voluptate quia aspernatur sit eveniet numquam. Optio sint placeat sint vero dicta accusantium. Distinctio magnam provident dolorem.',4,0,0,'1981-06-07 15:46:36','1972-05-29 23:29:35'),(81,3,1,'Gryphon, and the Queen furiously, throwing an inkstand at the mushroom (she had grown in the wood,\' continued the King. Here one of the house, and wondering what to do anything but sit with its.','Quo voluptas sed blanditiis. Consectetur vel est inventore molestiae optio.',6,1,0,'1986-04-06 04:32:33','1977-10-18 21:01:58'),(82,8,7,'The three soldiers wandered about for them, but they were mine before. If I or she should meet the real Mary Ann, and be turned out of the table, half hoping that they must be on the floor, as it.','Qui cupiditate sit ut dolorem doloremque. Cum dolorem quo voluptatem reprehenderit id. Magnam iste excepturi molestias quaerat.',9,1,1,'1975-08-02 10:18:24','2002-01-05 03:58:47'),(83,7,8,'But here, to Alice\'s side as she spoke, but no result seemed to have the experiment tried. \'Very true,\' said the Hatter, and here the conversation dropped, and the moon, and memory, and.','Quasi ut recusandae sunt sequi suscipit nihil sit nobis. Vel quam recusandae provident et. Dolores qui dolore maiores ut.',1,0,0,'2016-03-09 01:41:31','1988-04-26 05:26:00'),(84,3,7,'Who ever saw one that size? Why, it fills the whole cause, and condemn you to get in?\' asked Alice again, for this time she had been all the same, shedding gallons of tears, \'I do wish they COULD!.','Commodi ut cumque culpa et dolorum unde nisi odit. Officiis velit est dicta perferendis quidem. Est vitae dolores doloremque sed velit voluptatem.',3,0,0,'2005-09-12 12:02:07','1974-04-03 16:28:43'),(85,8,5,'And in she went. Once more she found herself in the world go round!\"\' \'Somebody said,\' Alice whispered, \'that it\'s done by everybody minding their own business,\' the Duchess said in a frightened.','Ullam qui illo illo illo provident repudiandae. Maiores minima aut cupiditate quo omnis qui cumque. Atque excepturi dolorem totam officiis cumque.',4,1,0,'2014-08-20 22:20:25','1970-07-19 11:09:21'),(86,9,1,'Dinah\'ll be sending me on messages next!\' And she opened it, and on both sides of it, and behind it, it occurred to her great delight it fitted! Alice opened the door and went down to nine inches.','Qui laboriosam qui necessitatibus aut voluptas incidunt. Maiores quis nulla laudantium. Quia laudantium enim libero saepe. Necessitatibus quisquam animi illum perferendis.',3,0,0,'2010-07-04 14:29:45','1995-01-10 21:05:01'),(87,9,1,'At this moment Alice felt a very melancholy voice. \'Repeat, \"YOU ARE OLD, FATHER WILLIAM,\"\' said the Hatter. \'It isn\'t directed at all,\' said the youth, \'as I mentioned before, And have grown most.','Veniam sint et beatae dicta vel autem. Possimus esse earum est veritatis. Illum sed quo officiis explicabo accusantium. Nostrum aliquam sapiente et qui.',3,0,0,'2012-08-16 19:47:21','1974-03-04 03:04:15'),(88,5,4,'Alice, \'and those twelve creatures,\' (she was obliged to write out a race-course, in a deep voice, \'are done with a little bit, and said to herself, \'I wish I had not gone far before they saw Alice.','Vero sit at nemo enim voluptatibus quaerat molestiae. Modi laboriosam quibusdam et qui voluptatem nam. Suscipit dolores aut aliquam tempore quia quae. Sed quis repellat eaque dicta quos et.',4,1,0,'2012-11-25 06:06:26','2008-11-20 10:40:38'),(89,6,6,'I--\' \'Oh, don\'t talk about cats or dogs either, if you drink much from a Caterpillar The Caterpillar and Alice rather unwillingly took the least idea what Latitude was, or Longitude I\'ve got to?\'.','Occaecati illum autem eum labore. Omnis temporibus aperiam voluptatibus odit quae est in. Dignissimos deleniti dicta similique debitis autem ipsum dolorem.',4,1,0,'1989-11-15 11:43:38','2013-06-20 15:12:33'),(90,7,4,'Alice\'s elbow was pressed hard against it, that attempt proved a failure. Alice heard it before,\' said the Dormouse; \'VERY ill.\' Alice tried to fancy what the flame of a bottle. They all made a rush.','Quibusdam unde cumque voluptates rerum unde nobis est quaerat. Ea dolorem eius blanditiis corrupti sed consequatur.',3,0,0,'2013-10-31 23:22:25','1997-03-04 02:09:52'),(91,2,2,'Duchess\'s knee, while plates and dishes crashed around it--once more the pig-baby was sneezing and howling alternately without a great deal to ME,\' said Alice to herself, (not in a great hurry. \'You.','Eos ab et numquam ea quas qui. Quos voluptatibus sed dolorum. Vel magnam voluptatem aut assumenda voluptatem dolores.',5,1,1,'2018-09-24 23:47:47','2001-10-19 09:50:20'),(92,9,8,'Gryphon added \'Come, let\'s try the first day,\' said the Caterpillar. \'Well, perhaps not,\' said the Hatter, \'I cut some more tea,\' the March Hare and the King said, for about the twentieth time that.','Recusandae blanditiis quis dolor ut eaque. Corrupti occaecati cupiditate quibusdam sed quisquam doloremque et soluta. Animi deleniti molestias similique eveniet accusamus qui molestias.',3,1,1,'2009-11-17 02:37:16','2019-10-05 09:39:06'),(93,2,5,'VERY deeply with a round face, and large eyes like a wild beast, screamed \'Off with her head!\' about once in a sulky tone, as it is.\' \'Then you shouldn\'t talk,\' said the Hatter. \'You might just as.','Ut repudiandae et ea sed quis. Atque et quo quia ullam praesentium ea. Id velit et sed enim cum ut sed. Voluptate dolor esse laboriosam.',9,0,1,'1983-05-30 09:04:22','1987-12-24 12:10:10'),(94,1,7,'White Rabbit blew three blasts on the breeze that followed them, the melancholy words:-- \'Soo--oop of the ground--and I should say what you like,\' said the Rabbit\'s voice; and Alice could see, as.','Et enim voluptatum consectetur sunt blanditiis et. Nihil dolorem dolores facilis error excepturi. Temporibus quod numquam aut veritatis sit. Exercitationem doloribus recusandae at pariatur accusamus consequatur autem.',5,0,0,'1989-03-07 10:50:43','1987-06-04 10:23:08'),(95,8,2,'Mouse had changed his mind, and was beating her violently with its eyelids, so he with his head!\' or \'Off with her head on her hand, watching the setting sun, and thinking of little birds and.','Cupiditate tenetur sint asperiores qui fuga. Est pariatur velit eveniet mollitia. Quo veritatis quis culpa voluptatem atque repellendus. Laborum consequuntur repellendus repellendus praesentium unde. Possimus enim at eveniet voluptas.',8,1,0,'2002-01-08 01:43:05','1981-06-21 05:27:06'),(96,2,5,'The Queen turned angrily away from him, and very nearly in the middle, wondering how she would keep, through all her riper years, the simple and loving heart of her head down to look over their.','Officiis voluptatem nesciunt quas commodi hic totam voluptatum. Eligendi quia voluptate vel ad odit quam culpa dicta. Ratione qui error animi sunt error earum. Eveniet cumque nam fugiat hic.',8,1,1,'2002-11-22 07:40:18','1987-06-14 03:45:08'),(97,5,5,'Dormouse is asleep again,\' said the Footman, and began bowing to the jury, who instantly made a snatch in the wood,\' continued the Gryphon. \'I\'ve forgotten the words.\' So they got settled down in a.','Nesciunt dolorum eius a fugit molestias quia. Est doloremque sed facilis aut id. Accusamus est hic dolorem quo quae.',4,1,0,'1978-08-09 15:34:42','1970-02-19 20:37:09'),(98,6,9,'Alice asked in a trembling voice, \'Let us get to the Gryphon. \'How the creatures argue. It\'s enough to drive one crazy!\' The Footman seemed to be two people. \'But it\'s no use now,\' thought Alice,.','Quo laudantium deserunt quibusdam illo. Suscipit quo fugiat explicabo quia sed nulla dignissimos. Recusandae magnam voluptatibus quidem maiores sunt debitis nulla.',5,0,1,'1999-07-04 14:46:46','2012-08-03 12:00:36'),(99,3,1,'Alice could see this, as she went hunting about, and called out in a dreamy sort of idea that they must needs come wriggling down from the Gryphon, sighing in his sleep, \'that \"I like what I get\" is.','Dignissimos ut atque ut ex. Maiores dolor odio ut nostrum. Molestias natus omnis provident omnis aliquid.',8,1,0,'2010-09-25 00:41:10','2015-03-15 23:22:15'),(100,7,5,'Alice\'s first thought was that it might be hungry, in which the March Hare. \'I didn\'t know how to spell \'stupid,\' and that in some book, but I shall have to ask any more questions about it, even if.','Excepturi dolores commodi nisi excepturi est rerum. Hic perferendis ex dolorum enim. Mollitia et sit rem corrupti officiis tenetur explicabo. Nisi consequatur pariatur nihil et odio deserunt.',1,1,1,'2019-02-18 14:57:21','2013-05-07 18:52:51');
SELECT * FROM posts p;
UPDATE posts SET 
	id = FLOOR (1 + RAND() * 100) 
	user_id = FLOOR (1 + RAND() * 100), 
	community_id = FLOOR (1 + RAND() * 100),
	media_id = FLOOR (1 + RAND() * 4)
	;

ALTER TABLE profiles
 ADD CONSTRAINT profiles_user_id_fk 
    FOREIGN KEY (user_id) REFERENCES users (id)
     ON DELETE CASCADE,
  ADD CONSTRAINT profiles_photo_id_fk
    FOREIGN KEY (photo_id) REFERENCES media(id)
      ON DELETE SET NULL;	

ALTER TABLE profiles
 ADD CONSTRAINT profiles_country_id_fk
    FOREIGN KEY (countries_id) REFERENCES countries(id)
      ON DELETE SET NULL;
     
ALTER TABLE profiles
 ADD CONSTRAINT profiles_user_statuses_id_fk
    FOREIGN KEY (user_statuses_id) REFERENCES user_statuses(id)
      ON DELETE SET NULL;
     
ALTER TABLE media
 ADD CONSTRAINT media_user_id_fk
    FOREIGN KEY (user_id) REFERENCES users(id);
   
ALTER TABLE media
 ADD CONSTRAINT media_type_id_fk
    FOREIGN KEY (media_type_id) REFERENCES media_types(id); 

ALTER TABLE messages
 ADD CONSTRAINT messages_to_user_id_fk
    FOREIGN KEY (to_user_id) REFERENCES users(id); 

ALTER TABLE friendships 
 ADD CONSTRAINT friendships_friend_id_fk
    FOREIGN KEY (friend_id) REFERENCES users(id);   

ALTER TABLE communities_users 
 ADD CONSTRAINT community_id_fk
    FOREIGN KEY (community_id) REFERENCES communities(id);
   
-- с этого момента продолжил прописывать внешние ключи в редакторе диаграммы Dbeaver
-- в некоторых случаях ругался на ON DELETE SET NULL на тех столбцах где значение NOT NULL? поэтому пришлось оставить без ON DELETE SET NULL
   
-- Определить кто больше поставил лайков (всего) - мужчины или женщины?

SELECT COUNT(*) AS likes, gender FROM likes, profiles
WHERE likes.user_id = profiles.user_id
GROUP BY gender;

-- Подсчитать количество лайков которые получили 10 самых молодых пользователей.

SELECT SUM(likes) 
FROM (SELECT COUNT(*) AS likes
	  FROM likes, profiles
	  WHERE likes.user_id = profiles.user_id
	  GROUP BY likes.user_id 
	  ORDER BY profiles.birthday DESC
	  LIMIT 10) as countlikes;
	  
-- Найти 10 пользователей, которые проявляют наименьшую активность в
-- использовании социальной сети
	 
SELECT id, SUM(acts) AS acts FROM 
	(SELECT id, 0 as acts FROM users
	UNION
	SELECT user_id as id, count(*) as acts FROM media
	GROUP BY user_id
	UNION
	SELECT user_id, COUNT(*) FROM likes
	GROUP BY user_id
	UNION
	SELECT from_user_id, COUNT(*) FROM messages
	GROUP BY from_user_id) AS activities
GROUP BY id 
ORDER BY acts
LIMIT 10
;